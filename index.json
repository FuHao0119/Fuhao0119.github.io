
[{"content":"","date":"22 Nov 2025","externalUrl":null,"permalink":"/","section":"FUã®Blog","summary":"","title":"FUã®Blog","type":"page"},{"content":"","date":"22 Nov 2025","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":" LLM ä¸ KG ååŒç ”ç©¶æŠ¥å‘Š LLM + KG ååŒæŠ¥å‘Š æ‘˜è¦ æ ¸å¿ƒé—®é¢˜ æ–¹æ³•ä¸€: LLM åŠ© KG æ–¹æ³•äºŒ: KG åŠ© LLM æ€»ç»“ å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸çŸ¥è¯†å›¾è°±ï¼ˆKGï¼‰æ·±åº¦ååŒç ”ç©¶æŠ¥å‘Š éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å‘å±•ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å±•ç°äº†æƒŠäººçš„é€šç”¨è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ï¼Œä½†å…¶é¢ä¸´â€œå¹»è§‰â€ã€ç¼ºä¹æœ€æ–°äº‹å®åŠä¸å¯è§£é‡Šæ€§ç­‰æ ¸å¿ƒç—›ç‚¹ã€‚ä¸æ­¤åŒæ—¶ï¼ŒçŸ¥è¯†å›¾è°±ï¼ˆKGï¼‰ä½œä¸ºç»“æ„åŒ–çŸ¥è¯†åº“ï¼Œå…·å¤‡ç²¾ç¡®æ€§ä¸å¯è§£é‡Šæ€§ï¼Œä½†å—é™äºæ„å»ºæˆæœ¬é«˜ä¸è‡ªç„¶è¯­è¨€äº¤äº’èƒ½åŠ›å¼±ã€‚æœ¬æŠ¥å‘Šæ¢è®¨äº†å°†ä¸¤è€…ç»“åˆçš„ååŒæ¨¡å¼ï¼Œé€šè¿‡ **LLM-for-KG**ï¼ˆå¤§æ¨¡å‹æ„å»ºå›¾è°±ï¼‰å’Œ **KG-for-LLM**ï¼ˆå›¾è°±å¢å¼ºå¤§æ¨¡å‹ï¼‰ä¸¤æ¡è·¯å¾„ï¼Œæ—¨åœ¨æ„å»ºä¸€ä¸ªå…¼å…·å¹¿åº¦ä¸ç²¾åº¦çš„å…¨é¢äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚ æ ¸å¿ƒé—®é¢˜ä¸äº’è¡¥ä¼˜åŠ¿ å•ä¸€æŠ€æœ¯è·¯å¾„å·²é‡ç“¶é¢ˆï¼šLLM ç¼ºä¹äº‹å®é”šç‚¹ï¼Œå®¹æ˜“äº§ç”Ÿâ€œå¹»è§‰â€ï¼›è€Œ KG æ„å»ºæ˜‚è´µä¸”ç¼ºä¹çµæ´»çš„ç†è§£èƒ½åŠ›ã€‚ä¸¤è€…ç»“åˆæ—¨åœ¨å–é•¿è¡¥çŸ­ã€‚\nä¼˜åŠ¿äº’è¡¥åˆ†æ ç»´åº¦ å¤§è¯­è¨€æ¨¡å‹ (LLM) çŸ¥è¯†å›¾è°± (KG) æ ¸å¿ƒèƒ½åŠ› å¼ºå¤§çš„æ³›åŒ–ã€æ¨ç†ã€è¯­è¨€ç”Ÿæˆ ç»“æ„åŒ–å­˜å‚¨ã€ç²¾ç¡®äº‹å®ã€é€»è¾‘å…³è” ä¸»è¦åŠ£åŠ¿ å¹»è§‰é—®é¢˜ã€é»‘ç›’ä¸å¯è§£é‡Šã€çŸ¥è¯†æ»å æ„å»ºå›°éš¾ï¼ˆä¸å®Œæ•´ï¼‰ã€ç¼ºä¹è¯­ä¹‰ç†è§£ ç»“åˆç›®æ ‡ åˆ©ç”¨ KG æ¶ˆé™¤å¹»è§‰ åˆ©ç”¨ LLM è‡ªåŠ¨åŒ–æ„å»º æ–¹æ³•ä¸€: LLM è¾…åŠ©æ„å»º KG è¯¥è·¯å¾„æ—¨åœ¨åˆ©ç”¨ LLM å¼ºå¤§çš„æ–‡æœ¬ç†è§£ä¸ä¿¡æ¯æŠ½å–ï¼ˆIEï¼‰èƒ½åŠ›ï¼Œå®ç°ä»éç»“æ„åŒ–æ–‡æœ¬åˆ°ç»“æ„åŒ–æ•°æ®çš„è‡ªåŠ¨åŒ–è½¬æ¢ã€‚LLM åœ¨æ­¤æ‰®æ¼”â€œ**æ„å»ºè€… (Builder)**â€çš„è§’è‰²ã€‚\næ·±åº¦åˆ†æï¼šé£é™©ä¸æŒ‘æˆ˜ é£é™©æ¡ˆä¾‹ï¼šå¹»è§‰ï¼ˆè„æ•°æ®æ³¨å…¥ï¼‰ â–¼ åœºæ™¯ï¼š è¾“å…¥â€œæ—è‚¯æ˜¯ç¾å›½å†å²ä¸Šè‘—åçš„æ€»ç»Ÿã€‚â€\né”™è¯¯è¾“å‡ºï¼š \u0026lt;æ—è‚¯, å‡ºç”Ÿåœ°, åç››é¡¿ç‰¹åŒº\u0026gt;\nåæœï¼š äº‹å®æ˜¯ä»–å‡ºç”Ÿäºè‚¯å¡”åŸºå·ã€‚æ¨¡å‹â€œè„‘è¡¥â€çš„é”™è¯¯å…³ç³»ä¼šæ°¸ä¹…æ±¡æŸ“å›¾è°±ã€‚\næŒ‘æˆ˜æ¡ˆä¾‹ï¼šSchema å¯¹é½ â–¼ æ¥æº Aï¼š \u0026lt;ä¹”å¸ƒæ–¯, åˆ›å§‹äºº, è‹¹æœ\u0026gt;\næ¥æº Bï¼š \u0026lt;ç›–èŒ¨, åˆ›å»ºè€…, å¾®è½¯\u0026gt;\néš¾ç‚¹ï¼š è®¡ç®—æœºä¸è®¤ä¸ºâ€œåˆ›å§‹äººâ€ç­‰äºâ€œåˆ›å»ºè€…â€ã€‚éœ€è¦é¢å¤–é€»è¾‘æ˜ å°„ä¸ºç»Ÿä¸€çš„ `founded_by`ã€‚\næ–¹æ³•ä¸€ï¼šç‰¹æ€§é›·è¾¾å›¾ å·¥ä½œåŸç† è¾“å…¥ï¼š åŸå§‹éç»“æ„åŒ–æ–‡æœ¬ï¼ˆå¦‚æ–°é—»æŠ¥é“ï¼‰ã€‚ å¤„ç†ï¼š LLM è¯†åˆ«å®ä½“ï¼ˆEntityï¼‰åŠå…³ç³»ï¼ˆRelationï¼‰ã€‚ è¾“å‡ºï¼š æ ‡å‡†åŒ–çš„ä¸‰å…ƒç»„æ•°æ®ã€‚ å­˜å‚¨ï¼š å°†æ•°æ®å­˜å…¥å›¾æ•°æ®åº“æˆ– JSON æ–‡ä»¶ã€‚ ä»£ç å®ç°é€»è¾‘ æ ¸å¿ƒæ˜¯åˆ©ç”¨ Prompt Engineering å¼ºåˆ¶æ¨¡å‹è¾“å‡ºä¸¥æ ¼çš„ JSON æ ¼å¼ï¼Œä»¥ä¾¿ç¨‹åºè§£æã€‚\ndef extract_knowledge(text): system_prompt = \"\"\" ä½ æ˜¯ä¸€ä¸ªä¿¡æ¯æŠ½å–ä¸“å®¶ã€‚ è¯·ä¸¥æ ¼è¾“å‡º JSON æ ¼å¼ï¼š [{\"head\": \"...\", \"relation\": \"...\", \"tail\": \"...\"}] \"\"\" response = client.chat.completions.create( model=\"deepseek-chat\", messages=[ {\"role\": \"system\", \"content\": system_prompt}, {\"role\": \"user\", \"content\": text} ] ) return json.loads(response.choices[0].message.content) æ–¹æ³•äºŒ: KG è¾…åŠ©å¢å¼º LLM è¯¥è·¯å¾„å³ **æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG)** çš„ä¸€ç§å½¢å¼ï¼Œåˆ©ç”¨çŸ¥è¯†å›¾è°±ä½œä¸ºâ€œ**å¤–éƒ¨å¤§è„‘**â€æˆ–â€œäº‹å®é”šç‚¹â€ï¼Œçº¦æŸ LLM çš„ç”Ÿæˆå†…å®¹ï¼Œè§£å†³å¹»è§‰é—®é¢˜ã€‚\næ·±åº¦åˆ†æï¼šä¼˜åŠ¿ä¸å±€é™ ä¼˜åŠ¿æ¡ˆä¾‹ï¼šç²¾å‡†ä¿®æ­£ä¸æº¯æº â–¼ æé—®ï¼š â€œã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹æ˜¯å“ªä¸€å¹´å‘å”®çš„ï¼Ÿâ€\nçº¯ LLMï¼š å¯èƒ½ä¼šæ ¹æ®æ—§æ–°é—»çŒœæµ‹ 2023 å¹´ï¼ˆå¹»è§‰ï¼‰ã€‚\nKG å¢å¼ºï¼š æ£€ç´¢åˆ°äº‹å® \u0026lt;é»‘ç¥è¯, å‘å”®æ—¥, 2024-08-20\u0026gt;ã€‚\nç»“æœï¼š å›ç­”æ­£ç¡®ï¼Œä¸”å…·å¤‡å®Œå…¨çš„å¯è§£é‡Šæ€§ã€‚\nå±€é™æ¡ˆä¾‹ï¼šçŸ¥è¯†è¾¹ç•Œ â–¼ æé—®ï¼š â€œå†¯éª¥è¿™å‘¨ä¸‰æ—©é¤åƒäº†ä»€ä¹ˆï¼Ÿâ€\nKG åé¦ˆï¼š `NULL` (æ— ç›¸å…³ä¸‰å…ƒç»„)ã€‚\nç»“æœï¼š ç³»ç»Ÿæ— æ³•å›ç­”ã€‚è¿™é¿å…äº†çç¼–ï¼Œä½†ä¹Ÿæš´éœ²äº†èƒ½åŠ›ä¸Šé™å—é™äºå›¾è°±çš„è¦†ç›–èŒƒå›´ã€‚\næ–¹æ³•äºŒï¼šç‰¹æ€§é›·è¾¾å›¾ å·¥ä½œåŸç† æé—® (Query)ï¼š ç”¨æˆ·æå‡ºè‡ªç„¶è¯­è¨€é—®é¢˜ã€‚ æ£€ç´¢ (Retrieve)ï¼š ç³»ç»Ÿåœ¨æœ¬åœ° KG æ•°æ®åº“ä¸­æ£€ç´¢å®ä½“ã€‚ å¢å¼º (Augment)ï¼š å°†æ£€ç´¢åˆ°çš„ä¸‰å…ƒç»„è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€äº‹å®ã€‚ ç”Ÿæˆ (Generate)ï¼š å°†äº‹å®æ³¨å…¥ Promptï¼ŒæŒ‡ä»¤ LLM åŸºäºäº‹å®å›ç­”ã€‚ ä»£ç å®ç°é€»è¾‘ æ„å»ºä¸€ä¸ªé—­ç¯é—®ç­”ç³»ç»Ÿï¼Œé€šè¿‡â€œé˜²å¾¡æ€§æç¤ºè¯â€çº¦æŸ LLMï¼Œä¼˜å…ˆä½¿ç”¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ã€‚\ndef chat_with_kg(query): # 1. æ£€ç´¢ (Retrieve) kg_data = load_kg() retrieved_context = retrieve_knowledge(query, kg_data) # 2. å¢å¼º (Augment) if retrieved_context: system_prompt = f\"\"\" è¯·åˆ©ç”¨ä»¥ä¸‹ã€å‚è€ƒçŸ¥è¯†ã€‘å›ç­”ï¼š {retrieved_context} \"\"\" else: system_prompt = \"ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„ AI åŠ©æ‰‹ã€‚\" # 3. ç”Ÿæˆ (Generate) response = client.chat.completions.create( model=\"deepseek-chat\", messages=[{\"role\": \"system\", \"content\": system_prompt}, ...] ) return response.choices[0].message.content æ€»ç»“ï¼šåŒå‘èµ‹èƒ½ LLM ä¸ KG çš„ç»“åˆå¹¶éç®€å•çš„å åŠ ï¼Œè€Œæ˜¯æ·±åº¦çš„**åŒå‘èµ‹èƒ½**ï¼š\n1. LLM \u0026rarr; KG (èµ‹èƒ½æ„å»º) è§£å†³äº†çŸ¥è¯†å›¾è°±æ„å»ºæˆæœ¬é«˜ã€éç»“æ„åŒ–æ•°æ®éš¾ä»¥åˆ©ç”¨çš„éš¾é¢˜ï¼Œå®ç°äº†çŸ¥è¯†çš„â€œ**å†·å¯åŠ¨**â€ä¸è‡ªåŠ¨åŒ–æ‰©å±•ã€‚\n2. KG \u0026rarr; LLM (èµ‹èƒ½åº”ç”¨) è§£å†³äº†å¤§æ¨¡å‹äº‹å®ä¸å¯ä¿¡ã€é€»è¾‘ä¸å¯æŸ¥çš„éš¾é¢˜ï¼Œä¸ºç”Ÿæˆå¼ AI åŠ ä¸Šäº†â€œ**äº‹å®çš„ç¼°ç»³**â€ã€‚\né€šè¿‡ä»£ç å®è·µè¯æ˜ï¼Œè¿™ç§ååŒæ¨¡å¼åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯è¡Œçš„ï¼Œä¸”èƒ½æœ‰æ•ˆæ„å»ºå‡ºå…·å¤‡æ›´é«˜å¯ä¿¡åº¦çš„å‚ç›´é¢†åŸŸé—®ç­”ç³»ç»Ÿã€‚æœªæ¥çš„ä¼˜åŒ–æ–¹å‘å°†é›†ä¸­åœ¨è§£å†³**å¹»è§‰æ¸…æ´—**å’Œ**å›¾è°±è¦†ç›–ç‡æå‡**è¿™ä¸¤ä¸ªæ ¸å¿ƒéš¾ç‚¹ä¸Šã€‚ \u0026copy; 2025 LLMä¸KGååŒç ”ç©¶é¡¹ç›®ã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚\nLLM_FOR_KG.py:\nimport os import json from openai import OpenAI # ================= é…ç½®åŒºåŸŸ ================= # DeepSeek API Key API_KEY = \u0026#34;sk-xxxx\u0026#34; BASE_URL = \u0026#34;https://api.deepseek.com\u0026#34; KG_FILE = \u0026#34;kg_database.json\u0026#34; # =========================================== 333 client = OpenAI(api_key=API_KEY, base_url=BASE_URL) def save_to_kg(new_triples): \u0026#34;\u0026#34;\u0026#34;è¯»å–ç°æœ‰å›¾è°±ï¼Œè¿½åŠ æ–°æ•°æ®ï¼Œå¹¶å»é‡ä¿å­˜\u0026#34;\u0026#34;\u0026#34; existing_data = [] if os.path.exists(KG_FILE): with open(KG_FILE, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: try: existing_data = json.load(f) except json.JSONDecodeError: pass # ç®€å•çš„å»é‡é€»è¾‘ current_set = {f\u0026#34;{t[\u0026#39;head\u0026#39;]}-{t[\u0026#39;relation\u0026#39;]}-{t[\u0026#39;tail\u0026#39;]}\u0026#34; for t in existing_data} added_count = 0 for triple in new_triples: key = f\u0026#34;{triple[\u0026#39;head\u0026#39;]}-{triple[\u0026#39;relation\u0026#39;]}-{triple[\u0026#39;tail\u0026#39;]}\u0026#34; if key not in current_set: existing_data.append(triple) current_set.add(key) added_count += 1 with open(KG_FILE, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: json.dump(existing_data, f, ensure_ascii=False, indent=4) return added_count def extract_knowledge(text): \u0026#34;\u0026#34;\u0026#34;è°ƒç”¨ DeepSeek è¿›è¡ŒçŸ¥è¯†æŠ½å–\u0026#34;\u0026#34;\u0026#34; print(f\u0026#34;æ­£åœ¨æ€è€ƒå¹¶æŠ½å–çŸ¥è¯†ï¼Œè¯·ç¨å€™...\u0026#34;) # Promptï¼Œå¼ºåˆ¶ LLM è¾“å‡ºçº¯ JSON system_prompt = \u0026#34;\u0026#34;\u0026#34; ä½ æ˜¯ä¸€ä¸ªçŸ¥è¯†å›¾è°±æ„å»ºä¸“å®¶ã€‚è¯·ä»ç”¨æˆ·çš„æ–‡æœ¬ä¸­æå–å®ä½“å…³ç³»ä¸‰å…ƒç»„ã€‚ è¦æ±‚ï¼š 1. è¾“å‡ºæ ¼å¼å¿…é¡»æ˜¯ä¸¥æ ¼çš„ JSON åˆ—è¡¨ï¼š[{\u0026#34;head\u0026#34;: \u0026#34;å®ä½“1\u0026#34;, \u0026#34;relation\u0026#34;: \u0026#34;å…³ç³»\u0026#34;, \u0026#34;tail\u0026#34;: \u0026#34;å®ä½“2\u0026#34;}, ...] 2. ä¸è¦è¾“å‡ºä»»ä½• Markdown æ ‡è®°ï¼ˆå¦‚ ```jsonï¼‰ï¼Œåªè¾“å‡ºçº¯æ–‡æœ¬ JSONã€‚ 3. å¦‚æœæ–‡æœ¬ä¸­æ²¡æœ‰æ˜ç¡®äº‹å®ï¼Œè¿”å›ç©ºåˆ—è¡¨ []ã€‚ 4. å…³ç³»ï¼ˆrelationï¼‰è¯·å°½é‡ç®€ç»ƒï¼Œå¦‚ \u0026#34;ä¸ˆå¤«\u0026#34;ã€\u0026#34;ä½äº\u0026#34;ã€\u0026#34;ä¸»è¦æˆåˆ†\u0026#34;ã€‚ \u0026#34;\u0026#34;\u0026#34; try: response = client.chat.completions.create( model=\u0026#34;deepseek-chat\u0026#34;, messages=[ {\u0026#34;role\u0026#34;: \u0026#34;system\u0026#34;, \u0026#34;content\u0026#34;: system_prompt}, {\u0026#34;role\u0026#34;: \u0026#34;user\u0026#34;, \u0026#34;content\u0026#34;: text} ], temperature=0.1 # ä½æ¸©åº¦ä¿è¯è¾“å‡ºæ ¼å¼ç¨³å®š ) content = response.choices[0].message.content.strip() # æ¸…ç†å¯èƒ½å­˜åœ¨çš„ markdown ç¬¦å· content = content.replace(\u0026#34;```json\u0026#34;, \u0026#34;\u0026#34;).replace(\u0026#34;```\u0026#34;, \u0026#34;\u0026#34;) triples = json.loads(content) return triples except Exception as e: print(f\u0026#34;API è°ƒç”¨æˆ–è§£æå‡ºé”™: {e}\u0026#34;) return [] if __name__ == \u0026#34;__main__\u0026#34;: # è¾“å…¥æ–‡æœ¬ raw_text = \u0026#34;\u0026#34;\u0026#34; ã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹æ˜¯ä¸€æ¬¾ç”±æ¸¸æˆç§‘å­¦å…¬å¸å¼€å‘çš„åŠ¨ä½œè§’è‰²æ‰®æ¼”æ¸¸æˆã€‚ æ¸¸æˆç§‘å­¦å…¬å¸çš„æ€»éƒ¨ä½äºä¸­å›½æ­å·ã€‚ è¿™æ¬¾æ¸¸æˆæ”¹ç¼–è‡ªä¸­å›½å¤å…¸åè‘—ã€Šè¥¿æ¸¸è®°ã€‹ã€‚ å†¯éª¥æ˜¯æ¸¸æˆç§‘å­¦çš„åˆ›å§‹äººã€‚ \u0026#34;\u0026#34;\u0026#34; print(f\u0026#34;--- åŸå§‹æ–‡æœ¬ ---\\n{raw_text.strip()}\\n\u0026#34;) # 1. æŠ½å– extracted_data = extract_knowledge(raw_text) if extracted_data: print(f\u0026#34;--- æŠ½å–åˆ°çš„ä¸‰å…ƒç»„ ---\u0026#34;) for item in extracted_data: print(item) # 2. å­˜å‚¨ count = save_to_kg(extracted_data) print(f\u0026#34;\\nâœ… æˆåŠŸä¿å­˜ {count} æ¡æ–°çŸ¥è¯†åˆ° \u0026#39;{KG_FILE}\u0026#39;\u0026#34;) else: print(\u0026#34;âŒ æœªèƒ½æŠ½å–åˆ°æœ‰æ•ˆä¿¡æ¯ã€‚\u0026#34;) SIMPLE_RAG.py:\nimport json from openai import OpenAI # ================= é…ç½®åŒºåŸŸ ================= API_KEY = \u0026#34;sk-xxx\u0026#34; BASE_URL = \u0026#34;https://api.deepseek.com\u0026#34; KG_FILE = \u0026#34;kg_database.json\u0026#34; # =========================================== client = OpenAI(api_key=API_KEY, base_url=BASE_URL) def load_kg(): \u0026#34;\u0026#34;\u0026#34;åŠ è½½çŸ¥è¯†å›¾è°±æ–‡ä»¶\u0026#34;\u0026#34;\u0026#34; try: with open(KG_FILE, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: return json.load(f) except FileNotFoundError: print(f\u0026#34;é”™è¯¯ï¼šæ‰¾ä¸åˆ°çŸ¥è¯†å›¾è°±æ–‡ä»¶ {KG_FILE}ï¼Œè¯·å…ˆè¿è¡Œç¬¬ä¸€ä¸ªç¨‹åºã€‚\u0026#34;) return [] def retrieve_knowledge(query, kg_data): \u0026#34;\u0026#34;\u0026#34; ç®€å•çš„æ£€ç´¢é€»è¾‘ï¼šå¦‚æœå®ä½“å‡ºç°åœ¨é—®é¢˜ä¸­ï¼Œå°±å¬å›è¯¥ä¸‰å…ƒç»„ã€‚ å®é™…ç”Ÿäº§ä¸­è¿™é‡Œä¼šä½¿ç”¨å‘é‡æ•°æ®åº“ (Vector DB) æˆ–å›¾æŸ¥è¯¢è¯­è¨€ (Cypher)ã€‚ \u0026#34;\u0026#34;\u0026#34; context = [] print(f\u0026#34;ğŸ” æ­£åœ¨å›¾è°±ä¸­æ£€ç´¢...\u0026#34;) for triple in kg_data: # ç®€å•çš„å…³é”®è¯åŒ¹é…ï¼šæ£€æŸ¥ å¤´å®ä½“ æˆ– å°¾å®ä½“ æ˜¯å¦å‡ºç°åœ¨é—®é¢˜ä¸­ if triple[\u0026#39;head\u0026#39;] in query or triple[\u0026#39;tail\u0026#39;] in query: # å°†ç»“æ„åŒ–æ•°æ®è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€æè¿°ï¼Œæ–¹ä¾¿ LLM ç†è§£ fact_str = f\u0026#34;{triple[\u0026#39;head\u0026#39;]} çš„ {triple[\u0026#39;relation\u0026#39;]} æ˜¯ {triple[\u0026#39;tail\u0026#39;]}\u0026#34; context.append(fact_str) print(f\u0026#34; -\u0026gt; å‘½ä¸­çŸ¥è¯†: {fact_str}\u0026#34;) return \u0026#34;\\n\u0026#34;.join(context) def chat_with_kg(query): # 1. åŠ è½½å›¾è°± kg_data = load_kg() if not kg_data: return # 2. æ£€ç´¢ç›¸å…³çŸ¥è¯† retrieved_context = retrieve_knowledge(query, kg_data) # 3. æ„å»ºæç¤ºè¯ (Prompt Engineering) if retrieved_context: system_prompt = f\u0026#34;\u0026#34;\u0026#34; ä½ æ˜¯ä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±çš„é—®ç­”åŠ©æ‰‹ã€‚ è¯·åˆ©ç”¨ä»¥ä¸‹ã€å‚è€ƒçŸ¥è¯†ã€‘æ¥å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚ å¦‚æœã€å‚è€ƒçŸ¥è¯†ã€‘è¶³ä»¥å›ç­”é—®é¢˜ï¼Œè¯·ä¾æ®å®ƒå›ç­”ã€‚ å¦‚æœã€å‚è€ƒçŸ¥è¯†ã€‘ä¸é—®é¢˜æ— å…³ï¼Œä½ å¯ä»¥åˆ©ç”¨ä½ è‡ªå·±çš„çŸ¥è¯†å›ç­”ï¼Œä½†è¦ä¼˜å…ˆä½¿ç”¨å‚è€ƒçŸ¥è¯†ã€‚ ã€å‚è€ƒçŸ¥è¯†ã€‘ï¼š {retrieved_context} \u0026#34;\u0026#34;\u0026#34; else: print(\u0026#34; -\u0026gt; (æœªåœ¨å›¾è°±ä¸­æ‰¾åˆ°ç›´æ¥ç›¸å…³çš„å®ä½“ï¼Œå°†ä¾é æ¨¡å‹è‡ªèº«çŸ¥è¯†å›ç­”)\u0026#34;) system_prompt = \u0026#34;ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„ AI åŠ©æ‰‹ã€‚\u0026#34; # 4. è°ƒç”¨ DeepSeek å›ç­” print(\u0026#34;ğŸ¤– æ¨¡å‹æ­£åœ¨ç”Ÿæˆç­”æ¡ˆ...\u0026#34;) response = client.chat.completions.create( model=\u0026#34;deepseek-chat\u0026#34;, messages=[ {\u0026#34;role\u0026#34;: \u0026#34;system\u0026#34;, \u0026#34;content\u0026#34;: system_prompt}, {\u0026#34;role\u0026#34;: \u0026#34;user\u0026#34;, \u0026#34;content\u0026#34;: query} ] ) return response.choices[0].message.content # --- ä¸»ç¨‹åº --- if __name__ == \u0026#34;__main__\u0026#34;: print(\u0026#34;--- çŸ¥è¯†å›¾è°±å¢å¼ºé—®ç­”ç³»ç»Ÿ (è¾“å…¥ \u0026#39;exit\u0026#39; é€€å‡º) ---\u0026#34;) while True: user_query = input(\u0026#34;\\nè¯·è¾“å…¥é—®é¢˜: \u0026#34;) if user_query.lower() == \u0026#39;exit\u0026#39;: break answer = chat_with_kg(user_query) print(f\u0026#34;\\nğŸ’¡ DeepSeek å›ç­”:\\n{answer}\\n\u0026#34;) print(\u0026#34;-\u0026#34; * 50) ","date":"22 Nov 2025","externalUrl":null,"permalink":"/posts/20251122/","section":"Posts","summary":"","title":"å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸çŸ¥è¯†å›¾è°±ï¼ˆKGï¼‰æ·±åº¦ååŒç ”ç©¶æŠ¥å‘Š","type":"posts"},{"content":" è¿·å®«è·¯å¾„æœç´¢ç®—æ³•æ¯”è¾ƒä¸åˆ†æ # é—®é¢˜æè¿° # è¿·å®«é—®é¢˜æ˜¯ä¸€ä¸ªç»å…¸çš„äººå·¥æ™ºèƒ½é—®é¢˜ï¼Œé€šè¿‡æ¨¡æ‹Ÿç¨‹åºåœ¨è¿·å®«ä¸­çš„å¯»è·¯è¿‡ç¨‹ï¼Œå¯ä»¥æ¢ç´¢å’Œæ¯”è¾ƒä¸åŒçš„å¯»è·¯ç®—æ³•çš„ä¼˜åŠ£ã€‚åœ¨æ­¤é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨BFSç®—æ³•å’ŒA*ç®—æ³•è§£å†³è¿·å®«é—®é¢˜å¹¶è¿›è¡Œç®—æ³•åˆ†æã€‚\nè¿·å®«å®šä¹‰ # é‡‡ç”¨ä¸€ä¸ª10Ã—10çš„çŸ©é˜µï¼Œèµ·ç‚¹åæ ‡ä¸º(0,0)ï¼Œç»ˆç‚¹åæ ‡ä¸º(9,9)\nè¿·å®«çŸ©é˜µï¼š\n0 1 0 0 0 1 0 0 0 0 0 1 0 1 0 1 0 1 1 0 0 0 0 1 0 0 0 0 1 0 1 1 0 1 1 1 1 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 1 0 1 1 1 1 0 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 1 0 1 1 1 1 1 1 1 0 0 0 0ï¼šä»£è¡¨å¯é€šè¡Œçš„è·¯å¾„ 1ï¼šä»£è¡¨å¢™å£éšœç¢ç‰© å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ # ç®—æ³•åŸç† # å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ç±»ä¼¼äºæ ‘çš„å±‚åºéå†ï¼ŒåŸºäºé˜Ÿåˆ—è¿™ä¸€æ•°æ®ç»“æ„æ¥å®ç°ã€‚å…¶ç®—æ³•æ€æƒ³ä¸ºï¼šé¦–å…ˆå°†èµ·å§‹èŠ‚ç‚¹å­˜å…¥é˜Ÿåˆ—ï¼Œå¹¶è®°å½•ä¸ºå·²è®¿é—®ã€‚å–å‡ºé˜Ÿé¦–èŠ‚ç‚¹ï¼Œå¹¶è®¿é—®å…¶æœªè®¿é—®è¿‡çš„é‚»å±…ç»“ç‚¹ï¼Œå°†é‚»å±…ç»“ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶è®°å½•è¯¥èŠ‚ç‚¹ä¸ºå·²è®¿é—®ã€‚é‡å¤æ­¤æ­¥éª¤ï¼Œç›´è‡³é˜Ÿåˆ—ä¸ºç©ºæˆ–æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚\nç®—æ³•æ­¥éª¤ # å¯¹äºè¿·å®«é—®é¢˜ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆå§‹åŒ–ï¼šå°†èµ·å§‹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— å¾ªç¯æœç´¢ï¼šå½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š è®¿é—®é˜Ÿé¦–èŠ‚ç‚¹ åˆ¤æ–­æ˜¯å¦ä¸ºå‡ºå£èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯åˆ™ç¨‹åºç»“æŸï¼Œæ‰¾åˆ°äº†æœ€çŸ­çš„å‡ºå£è·¯å¾„ è®¿é—®è¯¥èŠ‚ç‚¹é‚»å±…ï¼Œåˆ¤æ–­é‚»å±…ç»“ç‚¹æ˜¯å¦ï¼š è¶…å‡ºè¾¹ç•Œ æ˜¯å¦ä¸ºå¢™ æ˜¯å¦å·²è®¿é—®è¿‡ å°†ç¬¦åˆæ¡ä»¶çš„é‚»å±…èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶æ ‡è®°ä¸ºå·²è®¿é—® è·¯å¾„å›æº¯ï¼šé€šè¿‡çˆ¶èŠ‚ç‚¹è®°å½•é‡æ„å®Œæ•´è·¯å¾„ ç®—æ³•ç‰¹ç‚¹ # å®Œå¤‡æ€§ï¼šä¿è¯æ‰¾åˆ°è§£ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ æœ€ä¼˜æ€§ï¼šåœ¨æ— æƒå›¾ä¸­ä¿è¯æ‰¾åˆ°æœ€çŸ­è·¯å¾„ ç›²ç›®æ€§ï¼šæ— ç›®æ ‡æ–¹å‘ä¿¡æ¯ï¼Œå‡åŒ€æ‰©å±• A*æœç´¢ç®—æ³• # ç®—æ³•åŸç† # Aç®—æ³•æ˜¯ä¸€ç§å¯å‘å¼æœç´¢ç®—æ³•ï¼Œå®ƒç»¼åˆäº†å¹¿åº¦ä¼˜å…ˆæœç´¢å’Œè´ªå¿ƒç®—æ³•çš„æ€æƒ³ï¼Œä»¥å¯»æ‰¾æœ€çŸ­è·¯å¾„ä¸ºç›®æ ‡ã€‚Aç®—æ³•è¿ç”¨äº†ä¸€ç§è¯„ä¼°å‡½æ•°å€¼çš„æ–¹æ³•æ¥ä¼°ç®—èŠ‚ç‚¹çš„ä»£ä»·ï¼Œè¯¥å‡½æ•°å€¼æ˜¯å®é™…ç§»åŠ¨ä»£ä»·å’Œé¢„è®¡ä»£ä»·çš„æ€»å’Œã€‚\nè¯„ä»·å‡½æ•° # f(x) = g(x) + h(x)\ng(x)ï¼šä»æºç‚¹åˆ°xçš„å®é™…ä»£ä»·å€¼ h(x)ï¼šä»xåˆ°ç›®æ ‡ç‚¹çš„é¢„ä¼°ä»£ä»·å€¼ å¯å‘å‡½æ•°ï¼šä½¿ç”¨æ›¼å“ˆé¡¿è·ç¦»\nh(x) = abs(x1 - x2) + abs(y1 - y2) ç®—æ³•æ­¥éª¤ # åˆå§‹åŒ–ï¼šå°†èµ·ç‚¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ— å¾ªç¯æœç´¢ï¼šå½“ä¼˜å…ˆé˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š ä»é˜Ÿåˆ—ä¸­å–å‡ºä¼˜å…ˆçº§æœ€é«˜çš„èŠ‚ç‚¹ï¼ˆæ€»ä»£ä»·æœ€å°çš„ç»“ç‚¹ï¼‰ å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºå‡ºå£ï¼Œåˆ™æœç´¢ç»“æŸ å¦åˆ™è®¿é—®å½“å‰èŠ‚ç‚¹çš„é‚»å±…ç»“ç‚¹ï¼ˆæ»¡è¶³ä¸è¶Šå‡ºè¾¹ç•Œå¹¶ä¸”ä¸æ˜¯å¢™ï¼‰ è®¡ç®—é‚»å±…ç»“ç‚¹çš„å®é™…ä»£ä»· = å½“å‰èŠ‚ç‚¹å®é™…ä»£ä»· + 1 å¦‚æœé‚»å±…ç»“ç‚¹çš„å®é™…ä»£ä»·æ²¡æœ‰è¢«è®°å½•æˆ–å®é™…ä»£ä»·æ¯”ä¹‹å‰æ›´çŸ­ï¼Œåˆ™ï¼š æ›´æ–°å®é™…ä»£ä»· è®¡ç®—é‚»å±…ç»“ç‚¹çš„æ€»ä»£ä»· = é‚»å±…èŠ‚ç‚¹å®é™…ä»£ä»· + é¢„ä¼°ä»£ä»· å°†èŠ‚ç‚¹å­˜å…¥ä¼˜å…ˆé˜Ÿåˆ— ç»ˆæ­¢æ¡ä»¶ï¼šå¦‚æœé˜Ÿåˆ—ä¸ºç©ºè€Œæ²¡æœ‰æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ™è¡¨ç¤ºæ— æ³•åˆ°è¾¾å‡ºå£ ç®—æ³•ç‰¹ç‚¹ # å¯å‘å¼å¼•å¯¼ï¼šåˆ©ç”¨ç›®æ ‡ä½ç½®ä¿¡æ¯ä¼˜åŒ–æœç´¢æ–¹å‘ æ•ˆç‡è¾ƒé«˜ï¼šå‡å°‘æ— æ•ˆæœç´¢ æœ€ä¼˜æ€§ä¿è¯ï¼šåœ¨å¯é‡‡çº³å¯å‘å‡½æ•°ä¸‹æ‰¾åˆ°æœ€çŸ­è·¯å¾„ BFSä¸A*ç®—æ³•çš„åˆ†ææ¯”è¾ƒ # æœç´¢ç­–ç•¥å¯¹æ¯” # ç‰¹æ€§ BFS A*ç®—æ³• æœç´¢ç­–ç•¥ é€å±‚éå†ï¼Œç›²ç›®æ¢ç´¢ å¯å‘å¼å¼•å¯¼ï¼Œæ–¹å‘æ€§æœç´¢ æ•°æ®ç»“æƒ é˜Ÿåˆ—ï¼ˆFIFOï¼‰ ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæŒ‰ä»£ä»·æ’åºï¼‰ æœç´¢æ•ˆç‡ è¾ƒä½ï¼Œè®¿é—®èŠ‚ç‚¹å¤š è¾ƒé«˜ï¼Œè®¿é—®èŠ‚ç‚¹å°‘ æ–¹å‘æ€§ æ— ç›®æ ‡æ–¹å‘ä¿¡æ¯ æœ‰æ˜ç¡®çš„æœç´¢æ–¹å‘ ç©ºé—´å¤æ‚åº¦åˆ†æ # BFSï¼šéœ€è¦å­˜å‚¨å½“å‰å±‚çº§æ‰€æœ‰å¾…æ¢ç´¢çš„ç»“ç‚¹ï¼Œéšç€è¿·å®«è§„æ¨¡æ‰©å¤§ï¼Œé˜Ÿåˆ—å­˜å‚¨é‡çº¿æ€§å¢é•¿ï¼Œåœ¨å¤æ‚è¿·å®«æ˜“å‡ºç°å†…å­˜å ç”¨è¿‡é«˜é—®é¢˜ A*ï¼šä¼˜å…ˆé˜Ÿåˆ—éœ€å­˜å‚¨å¾…æ¢ç´¢èŠ‚ç‚¹åŠå¯¹åº”ä»£ä»·ï¼Œè™½åŒæ ·å ç”¨ç©ºé—´ï¼Œä½†å› ç­›é€‰å‡ºé«˜ä¼˜å…ˆçº§èŠ‚ç‚¹ä¼˜å…ˆå¤„ç†ï¼Œé˜Ÿåˆ—ä¸­èŠ‚ç‚¹æ•°é‡é€šå¸¸å°‘äºBFS è·¯å¾„è´¨é‡ä¿è¯ # BFSï¼šå› é€å±‚éå†ç‰¹æ€§ï¼Œé¦–æ¬¡åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹çš„è·¯å¾„å³ä¸ºæœ€çŸ­è·¯å¾„ï¼Œæ— éœ€é¢å¤–éªŒè¯ï¼Œæœ€çŸ­è·¯å¾„ä¿è¯ç»å¯¹ç¨³å®š A*ï¼šéœ€è¦è®¾è®¡åˆç†çš„å¯å‘å¼å‡½æ•°ï¼Œåœ¨å¯é‡‡çº³æ€§æ¡ä»¶ä¸‹ä¿è¯æ‰¾åˆ°æœ€çŸ­è·¯å¾„ å®é™…æ€§èƒ½è¡¨ç° # åœ¨10Ã—10è¿·å®«ä¸­çš„æµ‹è¯•ç»“æœï¼š\nBFSï¼šè®¿é—®çº¦85ä¸ªèŠ‚ç‚¹ï¼Œæ•ˆç‡çº¦29.4% A*ï¼šè®¿é—®çº¦35ä¸ªèŠ‚ç‚¹ï¼Œæ•ˆç‡çº¦71.4% ç»“è®ºä¸å»ºè®® # ç®—æ³•é€‰æ‹©æŒ‡å¯¼ # æ¨èä½¿ç”¨BFSçš„åœºæ™¯ï¼š\nè¿·å®«è§„æ¨¡è¾ƒå° æ²¡æœ‰åˆé€‚çš„å¯å‘å¼å‡½æ•° ç¯å¢ƒå®Œå…¨æœªçŸ¥ å®ç°å¤æ‚åº¦è¦æ±‚ä½ æ¨èä½¿ç”¨A*çš„åœºæ™¯ï¼š\nè¾ƒå¤§çš„è¿·å®«è§„æ¨¡ çŸ¥é“ç›®æ ‡ä½ç½®ä¿¡æ¯ å¯¹æœç´¢æ•ˆç‡è¦æ±‚é«˜ æœ‰åˆé€‚çš„å¯å‘å¼å‡½æ•°å¯ç”¨ ç»¼åˆè¯„ä¼° # åœ¨è¿·å®«è§„æ¨¡è¾ƒå°æˆ–æ²¡æœ‰åˆé€‚çš„å¯å‘å¼å‡½æ•°æ—¶å¯ä»¥é‡‡ç”¨BFSç®—æ³•ï¼Œå®ç°ç®€å•ä¸”ä¿è¯æœ€ä¼˜è§£ã€‚è€Œåœ¨è¾ƒå¤§çš„è¿·å®«è§„æ¨¡ä¸­ï¼ŒA*ç®—æ³•å‡­å€Ÿå…¶å¯å‘å¼æœç´¢ç­–ç•¥ï¼Œæ‹¥æœ‰æ›´å¥½çš„æœç´¢æ•ˆç‡å’Œæ€§èƒ½è¡¨ç°ï¼Œæ›´é€‚åˆå¤æ‚è¿·å®«ç¯å¢ƒä¸‹çš„è·¯å¾„è§„åˆ’é—®é¢˜ã€‚\nä»£ç å®ç° # bfs:\nimport numpy as np from collections import deque def bfs(maze, start, end): height, width = maze.shape visited = np.zeros((height, width), dtype=bool) parent = np.full((height, width), None, dtype=object) queue = deque([start]) visited[start[0]][start[1]] = True step = 0 while queue: x, y = queue.popleft() visiting.append((x, y)) step += 1 if (x, y) == end: print(\u0026#34;Find ending!\u0026#34;) path = [] while (x, y) != start: path.append((x, y)) x, y = parent[x][y] path.append(start) return path[::-1] # ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ for dx, dy in direction: nx, ny = x + dx, y + dy if 0 \u0026lt;= nx \u0026lt; height and 0 \u0026lt;= ny \u0026lt; width and not visited[nx][ny] and maze[nx][ny] == 0: visited[nx][ny] = True parent[nx][ny] = (x, y) queue.append((nx, ny)) print(\u0026#34;No path found.\u0026#34;) return None # å¦‚æœæ‰¾ä¸åˆ°è·¯å¾„ if __name__ == \u0026#39;__main__\u0026#39;: start = (0, 0) # ç”¨ tuple æ›´å®‰å…¨ end = (4, 4) direction = [(0, -1), (0, 1), (-1, 0), (1, 0)] # å·¦å³ä¸Šä¸‹ visiting = [] maze = np.array([ [0, 1, 0, 0, 0], [0, 1, 0, 1, 0], [0, 0, 0, 1, 0], [0, 1, 1, 1, 0], [0, 0, 0, 0, 0] ]) path = bfs(maze, start, end) print(path) from queue import PriorityQueue class Maze: def __init__(self, maze): self.maze = maze def neighbors(self, current): \u0026#39;\u0026#39;\u0026#39;è¿”å›ä¸€ä¸ªåˆ—è¡¨ å­˜ç€è¿™ä¸ªç‚¹çš„å››ä¸ªé‚»å±…\u0026#39;\u0026#39;\u0026#39; neighbors = [] for dx, dy in [(-1, 0), (1, 0), (0, -1), (0, 1)]: nx, ny = current[0] + dx, current[1] + dy if(nx \u0026gt;= 0 and ny \u0026gt;= 0 and nx \u0026lt; len(self.maze[0]) and ny \u0026lt; len(self.maze) and self.maze[nx][ny] == 0 ): neighbors.append((nx, ny)) return neighbors def cal_estimated_cost(node1, node2): \u0026#39;\u0026#39;\u0026#39;è®¡ç®—ä¸¤ä¸ªç‚¹çš„ä¼°è®¡ä»£ä»·\u0026#39;\u0026#39;\u0026#39; return abs(node1[0] - node2[0]) + abs(node1[1] - node2[1]) def a_star_search(maze, start, goal): \u0026#39;\u0026#39;\u0026#39; :param maze: åˆå§‹è¿·å®« :param start: èµ·ç‚¹åæ ‡ :param goal: é‡ç‚¹åæ ‡ :return: ä¸¤ä¸ªé›†åˆï¼ˆä»å“ªæ¥é›†åˆã€å®é™…ä»£ä»·é›†åˆï¼‰ \u0026#39;\u0026#39;\u0026#39; frontier = PriorityQueue() # ä¼˜å…ˆé˜Ÿåˆ— é€šè¿‡ä»£ä»·è‡ªåŠ¨æ’åº frontier.put(start,0) # å°†èµ·ç‚¹æ”¾å…¥é˜Ÿåˆ— èµ·ç‚¹çš„æ€»ä»£ä»·ä¸º0å°±å¯ä»¥ å› ä¸ºå¿…é¡»æœ€å…ˆè®¿é—® came_from = {} # è®°å½•ä»å“ªæ¥ cost_so_far = {} # å®é™…ä»£ä»· came_from[start] = None # èµ·ç‚¹å°±æ˜¯ç¬¬ä¸€ä¸ªç‚¹ æ²¡æœ‰å‰é©± cost_so_far[start] = 0 # ç¬¬ä¸€ä¸ªç‚¹å®é™…ä»£ä»·æ˜¯0 while not frontier.empty(): current = frontier.get() # å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Ÿ if current == goal: break for next in maze.neighbors(current): new_cost = cost_so_far[current] + 1 if(next not in cost_so_far or new_cost \u0026lt; cost_so_far[next]): cost_so_far[next] = new_cost priority = new_cost + cal_estimated_cost(goal, next) # è®¡ç®—å‡ºæ€»ä»£ä»· = å½“å‰ä»£ä»·+é¢„ä¼°ä»£ä»· frontier.put(next,priority) # å°†èŠ‚ç‚¹å’Œä»£ä»·æ”¾å…¥é˜Ÿåˆ— print(priority) came_from[next] = current # è®°å½•ä»å“ªæ¥ return came_from, cost_so_far if __name__ == \u0026#39;__main__\u0026#39;: maze = Maze([ [0,1,0,0,0,1,0,0,0,0], [0,1,0,1,0,1,0,1,1,0], [0,0,0,1,0,0,0,0,1,0], [1,1,0,1,1,1,1,0,1,0], [0,0,0,0,0,0,1,0,0,0], [0,1,1,1,1,0,1,1,1,1], [0,1,0,0,0,0,0,0,0,0], [0,1,1,1,1,1,1,1,1,0], [0,0,0,0,0,0,0,0,1,0], [1,1,1,1,1,1,1,0,0,0] ]) came_from, cost_so_far = a_star_search(maze, (0, 0), (9, 9)) print(came_from) print(cost_so_far) ","date":"08 Nov 2025","externalUrl":null,"permalink":"/posts/20251108/","section":"Posts","summary":"","title":"è¿·å®«è·¯å¾„æœç´¢ç®—æ³•æ¯”è¾ƒä¸åˆ†æ","type":"posts"},{"content":" ğŸ“ ä½ å¥½ï¼Œæˆ‘æ˜¯ è½¯ä»¶å·¥ç¨‹å­¦ç”Ÿ \u0026 æŠ€æœ¯æ¢ç´¢è€…\nJava Python Spring Boot MySQL Git 0 è¯¾ç¨‹é¡¹ç›® 0 ç¼–ç¨‹è¯­è¨€ 0 åœ¨æ ¡å¹´æ•° 0 ä»£ç è¡Œæ•° ğŸ“š æˆ‘çš„å­¦ä¹ ä¹‹æ—… ä»å¤§ä¸€å¼€å§‹æ¥è§¦ ç¼–ç¨‹ï¼Œæˆ‘å°±è¢«è®¡ç®—æœºç§‘å­¦æ·±æ·±å¸å¼•ã€‚ç›®å‰æ­£åœ¨è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå­¦ä¹ ï¼Œçƒ­è¡·äºå°†ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®é™…é¡¹ç›®ã€‚\n2023 ç¼–ç¨‹å…¥é—¨ å­¦ä¹  Java åŸºç¡€ã€æ•°æ®ç»“æ„å’Œç®—æ³•\n2024 Web å¼€å‘ æŒæ¡ Spring Bootã€MySQL å’Œå‰ç«¯åŸºç¡€\n2025 é¡¹ç›®å®è·µ å‚ä¸è¯¾ç¨‹é¡¹ç›®å’Œå¼€æºè´¡çŒ®\nğŸ’» æŠ€æœ¯æŠ€èƒ½ ç¼–ç¨‹è¯­è¨€ Java Python JavaScript SQL æ¡†æ¶æŠ€æœ¯ Spring Boot MyBatis Vue.js Flask å¼€å‘å·¥å…· Git Maven MySQL Linux ğŸ“– è¯¾ç¨‹é¡¹ç›® ğŸ« å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ åŸºäº Spring Boot çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†å¹³å°ï¼Œæ”¯æŒå¢åˆ æ”¹æŸ¥å’Œæˆç»©ç»Ÿè®¡\nSpring Boot MySQL Thymeleaf ğŸ›’ ç®€æ˜“ç”µå•†ç³»ç»Ÿ è¯¾ç¨‹è®¾è®¡çš„åœ¨çº¿è´­ç‰©å¹³å°ï¼Œå®ç°ç”¨æˆ·æ³¨å†Œã€å•†å“æµè§ˆå’Œè´­ç‰©è½¦åŠŸèƒ½\nJava Servlet JSP MySQL ğŸ“Š æ•°æ®å¯è§†åŒ–å·¥å…· ä½¿ç”¨ Python å’Œ Flask å¼€å‘çš„æ•°æ®åˆ†æå¹³å°ï¼Œæ”¯æŒå›¾è¡¨ç”Ÿæˆ\nPython Flask ECharts ğŸ¯ å­¦ä¹ ç›®æ ‡ ğŸš€ æŠ€æœ¯æ·±åº¦ æ·±å…¥ç†è§£åˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡æ¶æ„\nğŸŒ å…¨æ ˆèƒ½åŠ› æŒæ¡å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼\nğŸ¤ å›¢é˜Ÿåä½œ å‚ä¸å¼€æºé¡¹ç›®ï¼Œæå‡åä½œèƒ½åŠ›\nğŸ’¼ å®ä¹ ç»å† å¯»æ‰¾æŠ€æœ¯å®ä¹ ï¼Œç§¯ç´¯å®æˆ˜ç»éªŒ\nğŸ“ äº¤æµå­¦ä¹  å¯¹æŠ€æœ¯å……æ»¡çƒ­æƒ…ï¼Ÿæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ å¿ƒå¾—å’Œé¡¹ç›®ç»éªŒï¼\nğŸ“§ å‘é€é‚®ä»¶ ğŸ™ GitHub ","date":"19 Oct 2025","externalUrl":null,"permalink":"/about/","section":"FUã®Blog","summary":"","title":"å…³äºæˆ‘","type":"page"},{"content":"è¿™å‘¨åœ¨å­¦é—ä¼ ç®—æ³•ï¼Œè€å¸ˆå¸ƒç½®äº†ä¸€ä¸ªæœ‰è¶£çš„ä½œä¸šï¼šç”¨é—ä¼ ç®—æ³•è§£å†³èƒŒåŒ…é—®é¢˜ã€‚ç»è¿‡å‡ æ¬¡è°ƒè¯•ï¼Œç»ˆäºå¾—åˆ°äº†æ­£ç¡®çš„ç»“æœï¼\né—®é¢˜æè¿° # å‡è®¾è¦å»ç™»å±±ï¼ŒèƒŒåŒ…æœ€å¤šèƒ½è£…30å…¬æ–¤ï¼Œæœ‰6ä»¶ç‰©å“å¯é€‰ï¼š\nç‰©å“ é‡é‡ ç”Ÿå­˜ç‚¹æ•° ç¡è¢‹ 15 15 ç»³å­ 3 7 å°åˆ€ 2 10 æ‰‹ç”µç­’ 5 5 ç“¶å­ 9 8 è‘¡è„ç³– 20 17 ç›®æ ‡ï¼šé€‰æ‹©ç‰©å“ï¼Œåœ¨ä¸è¶…è¿‡30å…¬æ–¤çš„å‰æä¸‹ï¼Œè®©ç”Ÿå­˜ç‚¹æ•°æœ€å¤§ã€‚\næœ€ç»ˆç»“æœ # ç»è¿‡é—ä¼ ç®—æ³•ä¼˜åŒ–ï¼Œæ‰¾åˆ°äº†æœ€ä¼˜è§£ï¼š\næœ€ä¼˜ä¸ªä½“ç¼–ç : [1, 1, 1, 0, 1, 0] é€‰æ‹©çš„ç‰©å“: ç¡è¢‹ã€ç»³å­ã€å°åˆ€ã€ç“¶å­ æ€»é‡é‡: 15 + 3 + 2 + 9 = 29å…¬æ–¤ ç”Ÿå­˜ç‚¹æ•°: 15 + 7 + 10 + 8 = 40ç‚¹ è¿™ä¸ªç»“æœå®Œå…¨æ»¡è¶³é‡é‡çº¦æŸï¼Œå¹¶ä¸”è·å¾—äº†æœ€å¤§çš„ç”Ÿå­˜ç‚¹æ•°ã€‚\næ ¸å¿ƒä»£ç è§£è¯» # 1. é€‚åº”åº¦è®¡ç®— # private static Integer[] getFitness_(Integer[][] as, Item[] items) { Integer[] fitnesses = new Integer[as.length]; for(int j=0; j\u0026lt;as.length; j++){ Integer fitness = 0; Integer weight = 0; for(int i=0; i\u0026lt;as[j].length; i++){ if(as[j][i] == 1) { fitness += items[i].survivalPoints; weight += items[i].weight; } } if(weight \u0026gt; MAXWEIGHT) {fitnesses[j] = 0;} else {fitnesses[j] = fitness;} } return fitnesses; } ä½œç”¨ï¼šè®¡ç®—æ¯ä¸ªä¸ªä½“çš„é€‚åº”åº¦ã€‚å…³é”®ç‚¹æ˜¯å½“é‡é‡è¶…é™æ—¶ï¼Œé€‚åº”åº¦è®¾ä¸º0ï¼Œè¿™æ ·è¶…é‡çš„è§£å°±ä¸ä¼šè¢«é€‰ä¸­ã€‚\n2. è½®ç›˜èµŒé€‰æ‹© # static int chooseA(Double[] sum_probabilitys, double r){ int i = 0; for(; i\u0026lt;sum_probabilitys.length; i++){ if(r \u0026lt; sum_probabilitys[i]){ return i; } } return i-1; } ä½œç”¨ï¼šæ ¹æ®é€‚åº”åº¦æ¯”ä¾‹é€‰æ‹©çˆ¶ä»£ã€‚é€‚åº”åº¦é«˜çš„ä¸ªä½“æœ‰æ›´å¤§å‡ ç‡è¢«é€‰ä¸­ç¹æ®–ã€‚\n3. å•ç‚¹äº¤å‰ # static void cross(Integer[] a1, Integer[] a2){ Integer[] b1 = new Integer[a1.length]; Integer[] b2 = new Integer[a2.length]; int mid = a1.length / 2; for(int i = 0; i \u0026lt; a1.length; i++){ if(i \u0026lt; mid){ b1[i] = a1[i]; b2[i] = a2[i]; } else { b1[i] = a2[i]; b2[i] = a1[i]; } } System.arraycopy(b1,0,a1,0,a1.length); System.arraycopy(b2,0,a2,0,a2.length); } ä½œç”¨ï¼šåœ¨ä¸¤ä¸ªçˆ¶ä»£çš„ä¸­é—´ä½ç½®è¿›è¡ŒåŸºå› äº¤æ¢ï¼Œäº§ç”Ÿæ–°çš„å­ä»£ã€‚\n4. éšæœºå˜å¼‚ # static void mutate(Integer[] a){ if(Math.random() \u0026lt; MUTATION_PROBABILITY){ int randomIndex = (int)(Math.random() * a.length); a[randomIndex] = a[randomIndex] == 1 ? 0 : 1; } } ä½œç”¨ï¼šä»¥å¾ˆå°æ¦‚ç‡ï¼ˆ0.5%ï¼‰éšæœºæ”¹å˜ä¸€ä¸ªåŸºå› ä½ï¼Œä¿æŒç§ç¾¤å¤šæ ·æ€§ã€‚\nç®—æ³•æµç¨‹ # åˆå§‹åŒ–ï¼šåˆ›å»º8ä¸ªéšæœºä¸ªä½“ä½œä¸ºåˆå§‹ç§ç¾¤ è¯„ä¼°ï¼šè®¡ç®—æ¯ä¸ªä¸ªä½“çš„é€‚åº”åº¦ é€‰æ‹©ï¼šç”¨è½®ç›˜èµŒæ–¹æ³•é€‰æ‹©ä¼˜ç§€çš„çˆ¶ä»£ äº¤å‰ï¼šçˆ¶ä»£åŸºå› é‡ç»„äº§ç”Ÿå­ä»£ å˜å¼‚ï¼šå¯¹å­ä»£è¿›è¡Œéšæœºå˜å¼‚ æ›¿æ¢ï¼šç”¨æ–°çš„å­ä»£æ›¿æ¢æ—§çš„ä¸ªä½“ é‡å¤ï¼šå¾ªç¯100ä¸‡ä»£ï¼Œè®°å½•å†å²æœ€ä¼˜è§£ å‚æ•°è®¾ç½® # ç§ç¾¤å¤§å°ï¼š8ä¸ªä¸ªä½“ å˜å¼‚æ¦‚ç‡ï¼š0.5% æœ€å¤§è¿­ä»£ï¼š1,000,000ä»£ äº¤å‰æ–¹å¼ï¼šå•ç‚¹äº¤å‰ é‡åˆ°çš„é—®é¢˜å’Œè§£å†³ # 1. æ•°ç»„å¼•ç”¨é—®é¢˜ # æœ€åˆç›´æ¥ä¿®æ”¹åŸç§ç¾¤æ•°ç»„ï¼Œå¯¼è‡´æ„å¤–ä¿®æ”¹ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼š\n// å…ˆåˆ›å»ºå‰¯æœ¬æ“ä½œ Integer[] child1 = Arrays.copyOf(As[A_index1], As[A_index1].length); // ...äº¤å‰å˜å¼‚æ“ä½œ... // å†æ›¿æ¢å›å» System.arraycopy(child1, 0, As[A_index1], 0, As[A_index1].length); 2. é‡é‡è®¡ç®—é”™è¯¯ # æœ€åˆè®¡ç®—é‡é‡æ—¶å¿˜äº†åˆ¤æ–­ç‰©å“æ˜¯å¦è¢«é€‰ä¸­ï¼š\n// é”™è¯¯ï¼šweight += items[i].weight; // æ­£ç¡®ï¼šif (code[i] == 1) { weight += items[i].weight; } å¿ƒå¾—ä½“ä¼š # é—ä¼ ç®—æ³•å¾ˆå¼ºå¤§ï¼šé€šè¿‡æ¨¡æ‹Ÿè‡ªç„¶è¿›åŒ–ï¼Œç¡®å®èƒ½æ‰¾åˆ°ä¼˜è´¨è§£ ç»†èŠ‚å¾ˆé‡è¦ï¼šä¸€ä¸ªå°bugå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªç®—æ³•å¤±æ•ˆ å‚æ•°è°ƒä¼˜éœ€è¦è€å¿ƒï¼šå˜å¼‚ç‡å¤ªé«˜ä¼šç ´åå¥½è§£ï¼Œå¤ªä½ä¼šé™·å…¥å±€éƒ¨æœ€ä¼˜ éªŒè¯ç»“æœå¿…è¦ï¼šæ‰¾åˆ°è§£åè¦æ‰‹åŠ¨éªŒè¯æ˜¯å¦æ»¡è¶³çº¦æŸæ¡ä»¶ è¿™æ¬¡å®è·µè®©æˆ‘çœŸæ­£ç†è§£äº†é—ä¼ ç®—æ³•çš„å·¥ä½œåŸç†ã€‚ä»æœ€åˆçš„bugé¢‘å‡ºï¼Œåˆ°æœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œæ•´ä¸ªè¿‡ç¨‹å¾ˆæœ‰æˆå°±æ„Ÿï¼\nå®Œæ•´ä»£ç ï¼šhttps://github.com/FuHao0119/CodeInLeeCode/blob/master/src/GeneticOnBag/GeneticOnBagMain.java\nç®—æ³•å­¦ä¹ ä¹‹è·¯ï¼Œç»§ç»­å‰è¿›ï¼\n","date":"18 Oct 2025","externalUrl":null,"permalink":"/posts/20251018/","section":"Posts","summary":"","title":"ç”¨é—ä¼ ç®—æ³•è§£å†³èƒŒåŒ…é—®é¢˜ï¼šä¸€æ¬¡æˆåŠŸçš„å®è·µ","type":"posts"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"}]